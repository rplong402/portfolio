function RRPublish(v,w,N,Oa,Aa){function Pa(){q.tablesorter&&q.tablesorter.addParser({id:"time",is:function(a){return!1},format:function(a){for(;12>a.length;)a="0"+a;return a},type:"text"});R(!0);Ba(function(){if(p.infotext&&J.ShowInfoText){ga||(ga=I("div"),ga.className="RRPInfoText",v.insertBefore(ga,v.firstChild));var a=A(p.infotext);0<=a.indexOf("</")?ga.innerHTML=a:ga.at(a)}"undefined"!=typeof Oa?("undefined"==typeof Aa&&(Aa=0),(a=Qa(Oa))&&Y(a.ID,Aa)):((a=location.href.split("#")[1])?(a=decodeURIComponent(a).split("_"),
Y(a[1],a[0],a[2])):ha(),db())});Ra()}function Ra(){v.style.marginLeft=0;v.style.marginRight=0;640>=window.innerWidth&&(v.style.marginLeft=-v.offsetLeft+"px",v.style.marginRight=v.offsetWidth-v.offsetParent.offsetWidth+"px")}function Ca(a){q("div.Tile").css("min-height",0);var c=0,b=100,e=[];q("div.Tile").each(function(){if(this.offsetTop!=c){for(var a=0;a<e.length;a++)e[a].style.minHeight=b+3+"px";c=this.offsetTop;b=100;e=[]}this.offsetHeight>b&&(b=this.offsetHeight);e.push(this)});for(a=0;a<e.length;a++)e[a].style.minHeight=
b+3+"px";Ra();if(C){a=G;var d=S;ka();(d!=S||a.join(",")!=G.join(","))&&la(ba)}}function ka(){var a=q(v).width();G=[];S=!1;if(970>a){for(var c=0,b=[],e=0,d=1;d<=U;d++)for(var g=0,m=0;m<u.Fields.length;m++)if(u.Fields[m].Line==d){for(var n=0;n<u.Fields[m].ColOffset;n++)g++,b[g]=0;g++;g>e&&(e=g);void 0===b[g]&&(b[g]=0);b[g]=Math.max(b[g],Z[m]*(u.Fields[m].FontBold?10:8.5)+6)}for(g=1;g<e;g++)c+=b[g];if(a-20<c){S=!0;c=-1;if("results"==N||"live"==N)for(d=-1;1>=d;d++){for(m=u.Fields.length-1;0<=m;m--)if(b=
u.Fields[m],void 0===b.ResponsiveHide&&(b.ResponsiveHide=0),b.ResponsiveHide==d&&1==b.Line&&!b.Link){a-=Z[m]*(b.FontBold?9.5:8)+6;c=m;break}if(0<=c)break}for(d=-1;1>=d;d++)for(m=0;m<u.Fields.length;m++)b=u.Fields[m],void 0===b.ResponsiveHide&&(b.ResponsiveHide=0),b.ResponsiveHide==d&&(1==b.Line&&c!=m)&&(b=Z[m]*(b.FontBold?9.5:8)+6,(a<3*b/4||a<b&&60>b)&&G.push(m),a-=b)}}}function ua(a){a=a.Fields;T=1;Da=0;U=1;for(var c=0;c<a.length;c++)a[c].Line>U&&(U=a[c].Line);for(var b=1;b<=U;b++){for(var e=1,c=
0;c<a.length;c++)a[c].Line==b&&(e+=a[c].ColOffset,e++);e>T&&(T=e)}for(b=1;b<=U;b++){for(c=e=0;c<a.length;c++)a[c].Line==b&&e++;e>Da&&(Da=e)}}function va(){for(var a=v.childNodes.length-1;0<=a;a--)"Loading"!=v.childNodes[a].className&&("RRPInfoText"!=v.childNodes[a].className&&"SelectorParent"!=v.childNodes[a].className)&&v.removeChild(v.childNodes[a])}function Ba(a){q.getJSON(rrp_server+"/RRPublish/data/config.php",{eventid:w,page:N,noVisitor:V("ys"+w)}).done(function(c){Ea("ys"+w,"1",1);c.error?
(R(!1),Fa(c.error)):(p=c,p.server&&(rrp_server="https://"+p.server),Ga=new Date/1E3-p.Time,a&&a())}).fail(function(){alert("Loading config failed, please try again.")})}function eb(a){for(var c=0;c<p.lists.length;c++){var b=p.lists[c];if(b.ID==a)return b}}function Sa(a){Ha=a;""==a&&"pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash=a}function Fa(a){va();R(!1);var c=v.cc("div");c.style.textAlign="center";c.style.paddingTop=
"100px";c.at(a)}function wa(a){for(var c=0,b=0;b<p.lists.length;b++){var e=p.lists[b];e.Mode||(e.Mode="");if((0<=e.Format.indexOf("V")||0<=e.Format.indexOf("P"))&&""==e.Mode)(void 0===a||a==e.Contest)&&c++}return c}function ha(){$=!1;C=null;K&&K.parentNode.removeChild(K);K=null;""!=Ha&&Sa("");if(p)if(0==p.lists.length||"results"==N&&!p.showResults||"participants"==N&&!p.showParticipants||"live"==N&&!p.showLive)Fa(langItems.noListsPublished);else{if(1==wa()||"dropdown"==p.ListSelector)for(var a=0;a<
p.lists.length;a++){var c=p.lists[a];c.Mode||(c.Mode="");if(""==c.Mode)return Y(c.ID,c.Contest,void 0,!0)}va();K||v.insertBefore(Ta(),ea);var b=v.cc("div");b.className="Tiles";v.cc("div").style.clear="both";Ua();for(var e=-1,d=0,a=0;a<p.lists.length;a++)if(c=p.lists[a],c.Mode||(c.Mode=""),(0<=c.Format.indexOf("V")||0<=c.Format.indexOf("P"))&&""==c.Mode&&c.Contest!=e)d++,e=c.Contest;if(0==d)Fa(langItems.noListsPublished);else for(var g=-1,m=0,e=-1,a=0;a<p.lists.length;a++)if(c=p.lists[a],c.Mode||(c.Mode=
""),(0<=c.Format.indexOf("V")||0<=c.Format.indexOf("P"))&&""==c.Mode){if(c.Contest!=e){g++;var e=c.Contest,n=b.cc("div");n.className="Tile";n.contest=c.Contest;n.onclick=function(){this.firstListID&&Y(this.firstListID,this.contest)};var h=n.cc("div");h.className="TileHead";h=h.cc("div");h.className="TileHeadText";m=0==c.Contest?langItems.allContests:A(p.contests[c.Contest]);h.at(m);m=n.cc("table");h=m.cc("tbody");m.className="TilesList";m=0}if(!c.ShowAs){c.ShowAs=c.Name;var k=c.ShowAs.indexOf("|");
0<=k&&(c.ShowAs=c.ShowAs.substr(k+1))}"\\n"==c.ShowAs.substr(c.ShowAs.length-2)?(ShowAs=c.ShowAs.substr(0,c.ShowAs.length-2),e=-1):ShowAs=c.ShowAs;k=h.cc("tr");k.listID=c.ID;k.contest=c.Contest;k.div=n;0<=c.Format.indexOf("V")?k.onclick=function(){this.div.firstListID||Y(this.listID,this.contest)}:(k.link=rrp_server+"/"+w+"/RRPublish/pdf.php?name="+encodeURIComponent(c.Name)+"&contest="+c.Contest+"&lang="+rrp_lang,k.onclick=function(){window.open(this.link)});k.className="TilesList";var u=k.cc("td"),
s=u.cc("img");s.src=rrp_server+"/RRPublish/graphics/resultlist2.gif";s.style.width="13px";s.style.height="16px";u.style.width="1%";u.style.opacity=0.7;u=k.cc("td");u.at(A(ShowAs));u.style.width="99%";m++;1==m?n.firstListID=c.ID:2==m&&(n.className="Tile",n.firstListID="")}1==d&&(n.className+=" Tile1");R(!1);Ca()}else va(),R(!0),Ba(function(){ha()})}function Va(a){for(var c=0;c<p.lists.length;c++){var b=p.lists[c];if(b.ID==a)return b}}function Qa(a){for(var c=0;c<p.lists.length;c++){var b=p.lists[c];
if(b.Name==a)return b}}function Ta(){function a(a,b,c){a.className+=" RRPcollapse";a.selection=a.cc("div");a.values=a.cc("div");a.elements={};b&&(b.onchange=function(){a.elements[this.value].onclick()});a.selection.onclick=function(){q(a).hasClass("RRPcollapse")?q(a).removeClass("RRPcollapse"):a.collapse()};a.select=function(d){for(var e=0;e<a.values.childNodes.length;e++)if(a.values.childNodes[e].value==d){var g=c?c:"",g=g+(""!=g&&0>g.indexOf(":")?": ":" ");a.selection.clear(g+a.values.childNodes[e].textContent);
a.values.childNodes[e].className="selected"}else a.values.childNodes[e].className="";b&&(b.value=d)};a.collapse=function(){q(this).addClass("RRPcollapse")};a.addValue=function(c,d,e){if(a.elements[c])return a.elements[c];var g=a.values.cc("div");a.elements[c]=g;g.at(A(d));g.value=c;g.onclick=function(){a.select(this.value);a.collapse();b&&(b.value=this.value);e&&e(this.value)};NewEntry=new Option(A(d),c,!1,!1);b&&(b.options[b.options.length]=NewEntry);return a.elements[c]};a.value=function(){return b.value};
a.selectedElement=function(){for(var c=0;c<a.values.childNodes.length;c++)if(a.values.childNodes[c].value==b.value)return a.values.childNodes[c]};a.firstElement=function(){return a.values.childNodes[0]};a.clear=function(){a.values.clear();a.elements={};b&&(b.options.length=0)};a.destroy=function(){b&&(b.parentNode&&b.parentNode.parentNode)&&b.parentNode.parentNode.removeChild(b.parentNode);a.parentNode.removeChild(a)};return a}function c(c){b.clearExtraLevels(!0);if("dropdown"==p.ListSelector){var g,
k;m&&(g=m.selectedElement().textContent,m.destroy());m=a(d.cc("div"),e.cc("div").cc("select"));for(var n=0;n<p.lists.length;n++){var h=p.lists[n];h.Mode||(h.Mode="");if((0<=h.Format.indexOf("V")||0<=h.Format.indexOf("P"))&&""==h.Mode&&h.Contest==c){if(!h.ShowAs){h.ShowAs=h.Name;var s=h.ShowAs.indexOf("|");0<=s&&(h.ShowAs=h.ShowAs.substr(s+1))}ShowAs="\\n"==h.ShowAs.substr(h.ShowAs.length-2)?A(h.ShowAs.substr(0,h.ShowAs.length-2)):A(h.ShowAs);m.addValue(h.ID,ShowAs,function(a){b.clearExtraLevels(!0);
var c=Va(a);0<=c.Format.indexOf("V")?Y(a,L):window.open(rrp_server+"/"+w+"/RRPublish/pdf.php?name="+encodeURIComponent(c.Name)+"&contest="+L+"&lang="+rrp_lang)});ShowAs==g&&(k=h.ID)}}k&&m.select(k);1==m.values.childNodes.length&&(m.destroy(),m=null)}d.className="SelectorMenu count"+d.childNodes.length}var b=I("div");b.className="SelectorParent";1==wa()&&(b.className+=" OnlyOneList");b.getExtraLevel=function(c,g){b.extraLevel||(b.extraLevel=[]);if(!b.extraLevel[c]){var k=e.cc("div");g&&(k.cc("span").at(g),
k.className="hasLabel",q(e).addClass("hasLabel"));var k=k.cc("select"),m=d.cc("div");-1==c&&(k.className="selectorResult",m.className="selectorResult");b.extraLevel[c]=a(m,k,g)}d.className="SelectorMenu count"+d.childNodes.length;g&&(this.hasSelectorLabel=!0);D&&D.setClass();return this.extraLevel[c]};b.clearExtraLevels=function(){if(b.extraLevel)for(var a in b.extraLevel)b.extraLevel[a]&&b.extraLevel[a].destroy&&(b.extraLevel[a].destroy(),delete b.extraLevel[a]);d.className="SelectorMenu count"+
d.childNodes.length;this.hasSelectorLabel=!1;D&&D.setClass()};b.filterCount=function(){return d.childNodes.length};var e=b.cc("div");e.className="Selector";var d=b.cc("div");d.className="SelectorMenu";var g,m;if("dropdown"==p.ListSelector){g=a(d.cc("div"),e.cc("div").cc("select"));for(var n=-1,h=0;h<p.lists.length;h++){var k=p.lists[h];k.Mode||(k.Mode="");if((0<=k.Format.indexOf("V")||0<=k.Format.indexOf("P"))&&""==k.Mode&&k.Contest!=n){var n=k.Contest,u=0==k.Contest?langItems.allContests:A(p.contests[k.Contest]);
if(1==wa(k.Contest)){if(!k.ShowAs){k.ShowAs=k.Name;var s=k.ShowAs.indexOf("|");0<=s&&(k.ShowAs=k.ShowAs.substr(s+1))}"-"!=k.ShowAs&&(u="\\n"==k.ShowAs.substr(k.ShowAs.length-2)?u+(" \u00bb "+A(k.ShowAs.substr(0,k.ShowAs.length-2))):u+(" \u00bb "+A(k.ShowAs)))}g.addValue(k.Contest,u,function(a){L=a;c(a);if(m)if(m.selectedElement())m.selectedElement().onclick();else{if(m.firstElement())m.firstElement().onclick()}else for(var b=0;b<p.lists.length;b++){var d=p.lists[b];d.Mode||(d.Mode="");if((0<=d.Format.indexOf("V")||
0<=d.Format.indexOf("P"))&&""==d.Mode)d.Contest==a&&(0<=d.Format.indexOf("V")?Y(d.ID,a):window.open(rrp_server+"/"+w+"/RRPublish/pdf.php?name="+encodeURIComponent(d.Name)+"&contest="+a+"&lang="+rrp_lang))}})}}1==g.values.childNodes.length&&(g.destroy(),g=null);null!=L&&(g&&g.select(L),c(L));C&&m&&m.select(C.ID)}return K=b}function Y(a,c,b,e){x=[];aa=void 0;ca={};fa=[];e||Sa("#"+c+"_"+a+(b?"_"+encodeURIComponent(b):""));R(!0);C&&C.ID!=a&&($=!1);C=Va(a);if(!C)return ha(),!1;Ia=!1;J.LiveUpdate.SecondsToNext(-1);
var d=x;x=[];L=c;va();K||v.insertBefore(Ta(),ea);a=fb(C,c);v.insertBefore(a,ea);a=$?"favorites":C.Leader?"leaders":"all";M++;var g=M;q.getJSON(rrp_server+"/RRPublish/data/list.php",{eventid:w,key:p.key,listname:C.Name,page:N,contest:L,r:a,l:C.Leader,fav:V("favorites"+w)},function(a){M==g&&(ba=a,u=a.list,na=oa(a.data,0),Z=pa(a.data,0),ua(u),ka(),Ja(a.filterValues,u.SelectorResults,d),la(a),"undefined"!=typeof b?qa(b):da="undefined"==typeof b?"":b,J.LiveUpdate.SecondsToNext(10))});return!0}function Ja(a,
c,b){function e(a,c,d,e,g){if(!(1>=a.length)){var m=K.getExtraLevel(c,A(g)),h=!1,n=b[c];for(d=d?-2:-1;d<a.length;d++){var p;-2==d?(p="<Ignore>",g="<"+langItems.FilterIgnore+">"):-1==d?(p="",g="<"+langItems.FilterAll+">"):(p=a[d],g=A(p),""==g&&(g="-"),""==p&&(p="(empty)"));m.addValue(p,g,function(a){x[c]=a;ca={};fa=[];ia()});!h&&(0<=d&&1==e||-2==d&&2==e||-1==d&&0==e)?(m.select(p),x[c]=p,h=!0):p==n&&(m.select(p),x[c]=p,h=!0)}void 0!=n&&(x[c]!=n&&""!=n)&&(p=a[0],""==p&&(p="(empty)"),x[c]=p,ia());return m}}
function d(a,b,c,d){""==c&&(c=-1==b?"<"+langItems.CurrentResult+">":b);a.addValue(b,c,function(a){aa=d?void 0:b;ia()})}K.clearExtraLevels();var g=-1,m=-1;xa=null;for(var n=0;n<u.Orders.length;n++)if(u.Orders[n].Grouping&&(g++,1<u.Orders[n].Grouping&&(m++,a[m]))){var h=e(a[m],g,2<u.Orders[n].Grouping,u.Orders[n].GroupFilterDefault,u.Orders[n].GroupFilterLabel);if("contestname"==u.Orders[n].Expression.toLowerCase()||"contest.name"==u.Orders[n].Expression.toLowerCase())xa=h}(function(){var a=JSON.stringify(u).toLowerCase(),
a=[0<=a.indexOf("{selector}"),0<=a.indexOf("{selector.splits}"),0<=a.indexOf("{selector.legs}")];if(a[0]||a[1]||a[2]){var b=K.getExtraLevel(-1),e=[],g=L;if(!g&&xa){var m=xa.value(),h;for(h in p.contests)if(p.contests[h]==m){g=h;break}}d(b,"","<"+langItems.CurrentResult+">",!1);for(m=0;m<p.splits.length;m++)if(h=p.splits[m],!(0<=e.indexOf(h.Name))&&!(g&&h.Contest!=g)&&2!=h.SplitType&&(a[0]||a[1]&&9!=h.SplitType||a[2]&&9==h.SplitType))d(b,h.Name,h.Label?A(h.Label):h.Name,!1),e.push(h.Name);aa?b.select(aa):
b.select(b.firstElement().value)}else if(c&&1<c.length){b=K.getExtraLevel(-1);for(m=0;m<c.length;m++)d(b,c[m].ResultID,c[m].ShowAs,0==m);aa?b.select(aa):b.select(b.firstElement().value)}})()}function ia(){var a;O&&O.parentNode&&(a=O.parentNode);a&&(a.style.minHeight=a.offsetHeight+"px");Ka();R(!0);var c=da?"search":$?"favorites":C.Leader?"leaders":"all";M++;var b=M;q.getJSON(rrp_server+"/RRPublish/data/list.php",{eventid:w,key:p.key,listname:C.Name,page:N,contest:L,r:c,l:C.Leader,fav:V("favorites"+
w),openedGroups:JSON.stringify(ca),term:da,selectorResult:aa,f:x.join("\f")},function(c,d,g){M==b&&(c.list&&(ba=c,u=c.list,na=oa(c.data,0),Z=pa(c.data,0),ua(u),ka(),Ja(c.filterValues,u.SelectorResults,x),la(c),R(!1),J.LiveUpdate.SecondsToNext(10)),a&&(a.style.minHeight=0))})}function Ka(){O&&O.parentNode&&O.parentNode.removeChild(O);X&&X.parentNode&&X.parentNode.removeChild(X);P&&P.parentNode&&P.parentNode.removeChild(P);F&&F.parentNode&&(F.parentNode.removeChild(F),F=null)}function la(a){Ka();a.list.ListHeaderText&&
(X=v.cc("div"),v.HeaderNode=P,X.className="ListHeaderFooter",0<=a.list.ListHeaderText.indexOf("<")?X.innerHTML=A(a.list.ListHeaderText):X.at(A(a.list.ListHeaderText)));gb();for(var c=a.list.Fields,b=D.cc("thead"),e=1;e<=U;e++){var d=!1,g=I("tr"),m=g.cc("th");m.innerHTML="&nbsp;";m.className="sorter-false";for(var n=1,h=0;h<c.length;h++)if(c[h].Line==e&&(1==e||!S)&&0>G.indexOf(h)){var k=A(c[h].Label);""!=k&&(d=!0);""!=c[h].Label2&&(headLine2=!0);if(0==G.length)for(var p=1;p<=c[h].ColOffset;p++)m=g.cc("th"),
m.innerHTML="&nbsp;",m.className="sorter-false",n++;m=g.cc("th");m.at(k);""!=c[h].Label2&&(m.cc("br"),m.at(c[h].Label2));k=c[h].Expression.toLowerCase();m.className="timetext"==k.substr(0,8)||0<=k.indexOf("[timetext")?"{sorter:'time'}":"sorter-text";1==c[h].Alignment?m.style.textAlign="left":2==c[h].Alignment?m.style.textAlign="center":3==c[h].Alignment&&(m.style.textAlign="right");n++}if(0==G.length)for(p=1;p<=T-n;p++)m=g.cc("th"),m.innerHTML="&nbsp;",m.className="sorter-false";m=g.cc("th");m.innerHTML=
"&nbsp;";m.className="sorter-false";d&&b.ac(g)}for(c=a.list.LinkCount=0;c<a.list.Fields.length;c++)a.list.Fields[c].Link&&a.list.LinkCount++;La(a.data,a.comments,0,0);Wa=a.mid;a.list.ListFooterText&&(P=v.cc("div"),v.FooterNode=P,P.className="ListHeaderFooter",0<=a.list.ListFooterText.indexOf("<")?P.innerHTML=A(a.list.ListFooterText):P.at(A(a.list.ListFooterText)));if(C.Sortable&&1==U&&0==G.length)try{q(D).tablesorter({debug:!1})}catch(u){}Ua();D.style.display="";R(!1)}function db(){window.setInterval(function(){if(C&&
Ia){var a=(new Date/1E3-Ga)%86400;q("td.timeUpdater, div.timeUpdater").each(function(c){this.clear(Q(a-this.timeBase,this.timeFormat))})}},1E3)}function gb(){O=v.ac(I("div"));O.className="MainDiv";D=O.cc("table");D.style.display="none";D.setClass=function(){D.className="MainTable tablesorter tablesorter-default sortable";K&&K.filterCount()&&(D.className+=" HasSelector FilterCount"+K.filterCount());K&&K.hasSelectorLabel&&(D.className+=" HasSelectorLabel");if(G.length||S)D.className+=" hasBrokeCols"};
D.setClass()}function Ua(){F&&!document.body.contains(F)&&(F=null);if(0>window.location.href.indexOf(".raceresult.com/")&&!F){F=v.cc("div");F.style.visibilty="visible !important";F.style.position="static !important";F.style.opacity="100% !important";F.style.display="block !important";F.style.textAlign="left";F.style.marginTop="10px";F.style.borderTop="1px solid #CCCCCC";F.style.fontSize="12px";F.style.padding="2px 0 10px 1%";F.style.border=0;F.at("results powered by");F.cc("br");var a=F.cc("a");a.target=
"_blank";a.style.all="unset";a.style.display="inline !important";a.href="https://www.raceresult.com";a=a.cc("img");a.style.all="unset";a.style.display="inline !important";a.style.verticalAlign="middle";a.src=rrp_server+"/RRPublish/graphics/rrLogo.jpg";a.style.width="130px";a.style.marginTop="3px";a.border=0;if(J.ShowTimerLogo&&p.TimerLogo){a=F.cc("a");a.target="_blank";var c=p.TimerURL;c&&("http"!=c.substr(0,4)&&(c="http://"+c),a.href=c);a=a.cc("img");a.src=rrp_server+"/RRPublish/picture.php?eventid="+
w+"&name="+encodeURIComponent(p.TimerLogo);a.style.width="130px";a.style.marginLeft="10px";a.style.verticalAlign="middle";a.border=0}}}function fb(a,c){var b=I("div");b.className="ListControl";if(1==wa()||"dropdown"==p.ListSelector)b.className+=" OnlyOneList";b.onclick=function(){Xa()};"dropdown"==p.ListSelector&&(b.className+=" HasSelector");C.Live&&!p.EventOver&&(b.className+=" ListControlWithLiveUpdate");var e=b.cc("div");e.className="ListBack";e.at(langItems.detailsBack);e.onclick=function(a){Xa(a);
Ka();ha()};C.Live&&!p.EventOver&&(e=b.cc("div"),e.className="RRLiveUpdate",e.at(langItems.liveUpdateActive));0<=eb(a.ID).Format.indexOf("P")&&(e=b.cc("div"),e.className="ListControlPDF",e.href=rrp_server+"/"+w+"/RRPublish/pdf.php?name="+encodeURIComponent(a.Name)+"&contest="+c+"&lang="+rrp_lang,e.onclick=function(){window.open(this.href)},e.at(" "+langItems.pdfResults));e=b.cc("div");e.className="ListControlSearch";var d=e.cc("input");ya=d;d.type="text";d.placeholder=langItems.searchPlaceHolder;d.onfocus=
function(){q(this.parentNode.parentNode).addClass("SearchFocus")};d.onblur=function(){qa(this.value)};d.oninput=function(a){this.onkeyup()};d.onkeyup=function(a){this.check();if(a&&13==a.keyCode&&(!this.nextSibling.disabled||""==this.value))qa(this.value),document.activeElement.blur()};d.check=function(){this.value||q(this.parentNode.parentNode).removeClass("SearchFocus");this.className=this.value?"filled":"";var a=2>this.value.length&&!q.isNumeric(this.value);this.nextSibling.disabled=a};d=e.cc("button");
d.className="btnSearch";d.onclick=function(){qa(this.previousSibling.value)};d.at(langItems.search);d.disabled=!0;d=e.cc("button");d.className="btnClearSearch";d.onclick=function(){var a=this.previousSibling.previousSibling;a.value="";a.check();qa("")};d=d.cc("img");d.src=rrp_server+"/RRPublish/graphics/whiteX.png";d.style.height="14px";d=e.cc("button");d.className="btnFavorites";d.innerHTML="&nbsp;";d.title=langItems.showFavorites;$&&(d.className+=" checked");d.onclick=function(){$=!$;da=void 0;
ya&&(ya.value="",ya.check());if($){this.oldGroupFilter=x.slice(0);for(var a=0;a<x.length;a++)x[a]=""}else for(a=0;a<x.length;a++)""==x[a]&&(x[a]=this.oldGroupFilter[a]);ca={};fa=[];q(this).toggleClass("checked");ia()};e=b.cc("div");e.style.clear="both";return b}function Ya(a,c){var b=I("div");Za(a)?(b.className="Favorite",b.at(langItems.detailsFav)):(b.className="NoFavorite",b.at(langItems.detailsNoFav));b.onclick=function(e){e.stopPropagation();"Favorite"==this.className?(this.className="NoFavorite",
Ma(a,!1),b.clear(langItems.detailsNoFav),c.FavoriteButton&&c.FavoriteButton!==this&&(c.FavoriteButton.className="NoFavorite")):(this.className="Favorite",Ma(a,!0),b.clear(langItems.detailsFav),c.FavoriteButton&&c.FavoriteButton!==this&&(c.FavoriteButton.className="Favorite"));q(c).toggleClass("Favorite")};return b}function hb(a){var c=I("div");c.className="CommentInfo";a||(a=0);c.at(langItems.CommentsInfo.replace("[x]",a));return c}function La(a,c,b,e,d,g,m){var n=!1;"undefined"==typeof g&&(g="",
n=!0);"undefined"==typeof m&&(m="tb");if(a.constructor===Array)if(0==a.length){d=D.cc("tbody");d.className="tablesorter-no-sort";var h=d.cc("tr"),k=h.cc("td");k.height="150px";k.colSpan=T+1-G.length;k.style.fontStyle="italic";k.style.textAlign="center";k.at(langItems.noEntries)}else{$a();d&&(d.RecordCount=0);for(var w=0;w<a.length;w++)if(b=a[w])if(1==b.length){if(a.length-1<b[0]&&d&&(h=I("tbody"),d.nextSibling?(h=I("tbody"),d.parentNode.insertBefore(h,d.nextSibling)):h=d.parentNode.cc("tbody"),h.className=
"tablesorter-no-sort",h=h.cc("tr"),k=h.cc("td"),k.colSpan=T+1-G.length,k.style.textAlign="right",k.tb=d,C.Leader)){if(a.length+100<b[0]){var s=k.cc("a");s.className="aShowAll";s.style.marginRight="20px";s.onclick=function(){this.parentNode.loadAllOrMore(!0)};s.at(langItems.showMore)}s=k.cc("a");s.className="aShowAll";s.onclick=function(){this.parentNode.loadAllOrMore(!1)};p.LeaderboardHideCount?s.at(langItems.showAll.replace("[x]","")):s.at(langItems.showAll.replace("[x]",b[0]));k.loadAllOrMore=function(a){this.childNodes[0].style.display=
"none";this.childNodes[1]&&(this.childNodes[1].style.display="none");var b=this.cc("div");b.className="Loading";b.style.height="80px";var c=this;d.loadAllOrMore(a,function(a){b.parentNode.removeChild(b);a?c.parentNode.parentNode.parentNode.removeChild(c.parentNode.parentNode):(c.childNodes[0].style.display="",c.childNodes[1]&&(c.childNodes[1].style.display=""))})}}}else{for(var v=0==G.length&&!S?U:1,r,B=1;B<=v;B++){h=I("tr");1==B&&(r=h);h.className="Hover";B==v&&(h.className+=" LastRecordLine");1<
B&&(h.className+=" MultiLine");h.bib=b[0];h.arrPointer=b;u.LineColor&&(h.style.color=u.LineColor);u.LineBackColor&&(h.style.backgroundColor=u.LineBackColor);G.length||S?(h.style.cursor="pointer",0<=fa.indexOf(h.bib)&&(h.className+=" open"),h.onclick=function(){if(q(this).hasClass("open")){var a=fa.indexOf(this.bib);0<=a&&fa.splice(a,1);q(this).removeClass("open")}else fa.push(this.bib),q(this).addClass("open")}):p.LinkCertificates&&(h.style.cursor="pointer",h.onclick=function(){for(var a=this;q(a).hasClass("MultiLine");)a=
a.previousSibling;ra=a.arrPointer;sa=a;J.DetailsWindow.show(a.bib)});k=h.cc("td");if(("results"==N||"live"==N)&&"1"!=p.DisableiComments&&1==B)k.commentCount=0,c[b[0]]?(k.commentCount=c[b[0]],k.className="Comments1",k.title=langItems.CommentsInfo.replace("[x]",k.commentCount)):k.className="Comments0";e=g=0;u.LineDynamicFormat&&(e++,ja(h,b[u.Fields.length+u.LinkCount+e]));for(var W=0,H=1;H<=u.Fields.length;H++){var y=u.Fields[H-1];y.DynamicFormat&&e++;if(y.Line==B&&(1==B||!S)&&0>G.indexOf(H-1)){if(0==
G.length)for(k=1;k<=y.ColOffset;k++)h.cc("td").at("\u00a0"),W++;W++;k=h.cc("td");y.FontBold&&(k.style.fontWeight="bold");y.FontItalic&&(k.style.fontStyle="italic");y.FontUnderlined&&(k.style.textDecoration="underline");1==y.Alignment?k.style.textAlign="left":2==y.Alignment?k.style.textAlign="center":3==y.Alignment&&(k.style.textAlign="right");y.Color&&(k.style.color=y.Color);""==b[H]&&(b[H]="\u00a0");y.Link?(g++,s=k.cc("a"),s.at2(A(b[H])),"javascript:"!=b[u.Fields.length+g].substr(0,11)?(s.href=b[u.Fields.length+
g],s.target="_blank",s.tr=h,s.onclick=function(a){a.stopPropagation()}):(s.href="javascript:void(0)",s.sLink=b[u.Fields.length+g].substr(11),s.onclick=function(){eval(this.sLink)})):(s=A(b[H]),"["==s.substr(0,1)&&"]"==s.substr(s.length-1,1)&&0<s.indexOf("|")&"[img"!=s.substr(0,4).toLowerCase()?ab(k,s):k.at2(s));y.DynamicFormat&&ja(k,b[u.Fields.length+u.LinkCount+e])}}if(0==G.length)for(H=1;H<=T-W-1;H++)h.cc("td").at("\u00a0");k=h.cc("td");1==B&&(!G.length&&!S&&(k.bib=b[0],k.title=langItems.markFavorite,
k.onclick=function(a){a.stopPropagation();q(this.parentNode).toggleClass("Favorite");Ma(this.bib,q(this.parentNode).hasClass("Favorite"))}),Za(b[0])&&q(h).addClass("Favorite"));k.at("\u00a0");d||(d=D.cc("tbody"),d.groupName="",d.RecordCount=0,bb(d));d.ac(h)}d.RecordCount++;if(G.length||S){k=d.cc("tr");k.className="brokeCols";p.LinkCertificates&&(k.className+=" withDetails");k.bib=b[0];k.arrPointer=b;u.LineColor&&(k.style.color=u.LineColor);u.LineBackColor&&(k.style.backgroundColor=u.LineBackColor);
p.LinkCertificates&&(k.style.cursor="pointer",k.onclick=function(){ra=this.arrPointer;sa=this.previousSibling;J.DetailsWindow.show(this.bib)});e=0;u.LineDynamicFormat&&(e++,ja(h,b[u.Fields.length+u.LinkCount+e]));k.cc("td");v=k.cc("td");v.colSpan=T-G.length;for(var ma=0,B=1;B<=U;B++){W=g=0;for(H=1;H<=u.Fields.length;H++)if(y=u.Fields[H-1],y.DynamicFormat&&e++,y.Line==B&&ma++,y.Line==B&&(1<B||0<=G.indexOf(H-1))){W++;var E=v.cc("div");y.FontBold&&(E.style.fontWeight="bold");y.FontItalic&&(E.style.fontStyle=
"italic");y.FontUnderlined&&(E.style.textDecoration="underline");y.Color&&(E.style.color=y.Color);k=E.cc("div");(s=A(y.Label))&&k.at(s+": ");k=E.cc("div");y.Link?(g++,s=k.cc("a"),s.at2(A(b[H])),"javascript:"!=b[u.Fields.length+g].substr(0,11)?(s.href=b[u.Fields.length+g],s.target="_blank",s.tr=h,s.onclick=function(a){a.stopPropagation()}):(s.href="javascript:void(0)",s.sLink=b[u.Fields.length+g].substr(11),s.onclick=function(){eval(this.sLink)})):(s=A(b[H]),"["==s.substr(0,1)&&"]"==s.substr(s.length-
1,1)&&0<s.indexOf("|")&"[img"!=s.substr(0,4).toLowerCase()?ab(k,s):k.at2(s));y.DynamicFormat&&ja(k,b[u.Fields.length+u.LinkCount+e])}}k=d.cc("tr");k.className="brokeColsButtons";k.cc("td");v=k.cc("td");v.colSpan=T-G.length;r.FavoriteButton=Ya(b[0],r);v.ac(r.FavoriteButton);p.LinkCertificates&&"1"!=p.DisableiComments&&(r.CommentInfo=hb(c[b[0]]),v.ac(r.CommentInfo))}}n||(h=d.parentNode.cc("tbody"),h.id=m+"Spacer",h.className="tablesorter-no-sort",h=h.cc("tr"),k=h.cc("td"),k.style.height="10px",k.colSpan=
T+1-G.length)}else{for(;"<Ignore>"==x[e];)e++;r=0;for(w in a){d=D.cc("tbody");r++;d.id=m+"_"+r;if("_empty_"!=w&&(!ib(u,e)||""===x[e]))if(B=w,"#"==B.substr(0,1)&&(t=B.indexOf("_"),1<t&&(B=B.substr(t+1))),h=d.cc("tr"),k=h.cc("td"),k.className="listGrouping",k.colSpan=T+2-G.length,jb(u,e,k),0<=B.indexOf("///")){h=B.split("///");for(B=0;B<h.length;B++)W=k.cc("div"),W.style.cssFloat="left",W.style.width=na[b][B]+"%",s=A(h[B]),""==s?W.innerHTML="&nbsp;":W.at2(s)}else k.at(A(B));d=D.cc("tbody");d.groupName=
g+w;d.id=m+"_"+r+"Data";bb(d);La(a[w],c,b+1,e+1,d,d.groupName+"\f",m+"_"+r)}n&&D.lastChild&&D.removeChild(D.lastChild)}}function ab(a,c){var b=c.substr(1,c.length-2).split("|"),e=(new Date/1E3-Ga)%86400;a.timeBase=kb(b[0]);a.timeFormat=b[1];a.at(Q(e-a.timeBase,a.timeFormat));a.className="timeUpdater";Ia=!0}function jb(a,c,b){for(var e=-1,d=0;d<a.Orders.length;d++)if(a.Orders[d].Grouping&&e++,e==c){a.Orders[d].Color&&(b.style.color=a.Orders[d].Color);a.Orders[d].BackgroundColor&&(b.style.backgroundColor=
a.Orders[d].BackgroundColor);break}}function ib(a,c){for(var b=-1,e=0;e<a.Orders.length;e++)if(a.Orders[e].Grouping&&b++,b==c)return 1<a.Orders[e].Grouping}function oa(a,c){0==c&&(lenSum=[]);if(a.constructor!==Array){lenSum[c]||(lenSum[c]=[]);for(var b in a){if(0<=b.indexOf("///")){var e=b;"#"==e.substr(0,1)&&(t=e.indexOf("_"),1<t&&(e=e.substr(t+1)));for(var e=e.split("///"),d=0;d<e.length;d++)lenSum[c][d]||(lenSum[c][d]=0,lenSum[c][-d-1]=0),e[d].length&&(lenSum[c][d]+=e[d].length,lenSum[c][-d-1]++)}oa(a[b],
c+1)}}if(0==c){for(e=0;e<lenSum.length;e++)for(b=0;b<lenSum[e].length;b++)0<lenSum[-e-1]&&(lenSum[e]/=lenSum[-e-1]);for(e=0;e<lenSum.length;e++){for(b=d=0;b<lenSum[e].length;b++)d+=lenSum[e][b];0==d&&(d=1);for(b=0;b<lenSum[e].length;b++)lenSum[e][b]=100*lenSum[e][b]/d}return lenSum}}function pa(a,c,b){function e(a){a+="";return"]"==a.substr(a.length-1)&&"[img:"==a.substr(0,5).toLowerCase()?5:A(a).trim().length}function d(a){var b=0;a+="";if("]"==a.substr(a.length-1)&&"[img:"==a.substr(0,5).toLowerCase())return 5;
a=A(a).split(" ");for(var c=0;c<a.length;c++)a[c].length>b&&(b=a[c].length);return b}0==c&&(lenSum=[]);0==c&&(maxWordLen=[]);if(a.constructor===Array)for(var g=0;g<a.length;g++){if(a[g])for(b=1;b<a[g].length;b++){lenSum[b]||(lenSum[b]=0,lenSum[-b]=0,maxWordLen[b]=0);var m=e(a[g][b]);m&&(lenSum[b]+=m,lenSum[-b]++,m>maxWordLen[b]&&(maxWordLen[b]=Math.max(maxWordLen[b],d(a[g][b]))))}}else for(g in a)pa(a[g],c+1,lenSum);if(0==c){for(b=1;b<lenSum.length;b++){lenSum[b-1]=0<lenSum[b]?lenSum[b]/lenSum[-b]:
0;if(b<u.Fields.length){a=A(u.Fields[b-1].Label).split(" ");for(c=0;c<a.length;c++)lenSum[b-1]=Math.max(lenSum[b-1],a[c].length)}lenSum[b-1]=Math.max(lenSum[b-1],maxWordLen[b])}return lenSum}}function bb(a){a.loadAllOrMore=function(c,b){var e=void 0;c?(e=a.RecordCount+100,ca[this.groupName]=e):ca[this.groupName]=99999999;if(!Z||!Z.length)ia();else{M++;var d=M;q.getJSON(rrp_server+"/RRPublish/data/list.php",{eventid:w,key:p.key,listname:C.Name,page:N,contest:L,fav:V("favorites"+w),r:"group",name:this.groupName,
selectorResult:aa,l:e,f:x.length?x.join("\f"):void 0},function(c){M==d&&(a.clear(),La(c.data,c.comments,0,0,a),b&&b(!0),q(D).trigger("update"))}).fail(function(){b&&b(!1)})}}}function qa(a){if(da!=a){da=a;if(""==a){for(var c=0;c<x.length;c++)""==x[c]&&(x[c]=this.oldGroupFilter[c]);return ia()}this.oldGroupFilter=x.slice(0);for(c=0;c<x.length;c++)"<Ignore>"!=x[c]&&(x[c]="");ca={};O&&(O.style.display="none");X&&(X.style.display="none");P&&(P.style.display="none");R(!0);M++;var b=M;q.getJSON(rrp_server+
"/RRPublish/data/list.php",{eventid:w,key:p.key,listname:C.Name,page:N,fav:V("favorites"+w),contest:L,r:"search",term:a,f:x.join("\f")},function(a){M==b&&(ba=a,u=a.list,na=oa(a.data,0),Z=pa(a.data,0),ua(u),ka(),Ja(a.filterValues,u.SelectorResults,x),la(a),J.LiveUpdate.SecondsToNext(10),q(D).trigger("update"),O.style.display="",R(!1))})}}function Za(a){null===za&&(za=$a());return 0<=za.indexOf(a+"")}function $a(){var a=V("favorites"+w);return a=a?a.split(","):[]}function Ma(a,c){var b=V("favorites"+
w),e=[];if(b)for(var b=b.split(","),d=0;d<b.length;d++)b[d]==a?c&&(a=0):e.push(b[d]);0!=a&&c&&e.push(a+"");za=e;Ea("favorites"+w,e.join(","),9999)}function Ea(a,c,b){var e=new Date;e.setDate(e.getDate()+b);c=escape(c)+(null==b?"":"; expires="+e.toUTCString())+"; path=/";0<=window.location.href.indexOf(".raceresult.com/")&&(c+=";domain=raceresult.com");document.cookie=a+"="+c}function V(a){var c,b,e,d=document.cookie.split(";");for(c=0;c<d.length;c++)if(b=d[c].substr(0,d[c].indexOf("=")),e=d[c].substr(d[c].indexOf("=")+
1),b=b.replace(/^\s+|\s+$/g,""),b==a)return unescape(e)}function R(a){if(!ea){if(!a)return;ea=v.cc("div");ea.className="Loading"}ea.style.display=a?"":"none"}function lb(a,c,b,e){var d=I("div");d.className="WriteComment";var g=d.cc("button");g.at(langItems.writeComment);g.onclick=function(){var g=d.parentNode;g.removeChild(d);g=g.cc("div");g.className="WriteComment2";var n=g.cc("input");n.type="text";n.placeholder=langItems.commentNamePH;var h=V("commentname");"undefined"!=typeof h&&(n.value=h);n.onkeyup=
function(){this.button.activate()};n.onchange=function(){this.value=this.value.trim()};n.focus();h=g.cc("input");h.type="text";h.placeholder=langItems.commentTextPH;h.onkeyup=function(){this.button.activate()};h.onchange=function(){this.value=this.value.trim()};g.cc("br");g.at(langItems.commentWhy+" ",!0);g.at(langItems.commentWhy2);g.cc("br");g.at(langItems.commentRules+" ",!0);g.at(langItems.commentRules2);g.cc("br");var k=g.cc("button");k.disabled=!0;k.at(langItems.commentSend);g.cc("div").style.clear=
"both";k.input1=n;k.input2=h;k.bib=a;n.button=k;h.button=k;k.activate=function(){this.disabled=2>this.input1.value.length||2>this.input2.value.length};k.onclick=function(){Ea("commentname",this.input1.value,9999);var a=this;a.disable=!0;var d=this.bib,g=this.input2;q.getJSON(rrp_server+"/RRPublish/data/sendComment.php",{eventid:w,key:p.key,bib:this.bib,username:this.input1.value,text:this.input2.value},function(h){1==h?(g.value="",c.commentCount++,ba.comments[d]||(ba.comments[d]=0),ba.comments[d]++,
h=langItems.CommentsInfo.replace("[x]",c.commentCount),c.title=h,c.className="Comments1",b&&b.clear(h),e&&e()):alert("Sending comment failed. Please try again.");a.disable=!1})}};return d}function A(a){if(!a)return"";a+="";if("{"==a.substr(0,1)&&"}"==a.substr(a.length-1,1)){rrp_lang||(rrp_lang="de");for(var c=a.substr(1,a.length-2).split("|"),b="",e="",d=0;d<c.length;d++)if(a=c[d].indexOf(":"),0<a){l=c[d].substr(0,a).toUpperCase();if(l==rrp_lang.toUpperCase())return c[d].substr(a+1);"EN"==l?e=c[d].substr(a+
1):""==b&&(b=c[d].substr(a+1))}return e?e:b}return a}function ja(a,c){function b(a){var b=a.indexOf("(");0<=b&&(a=a.substr(b+1));b=a.indexOf(")");0<=b&&(a=a.substr(0,b));0<=a.indexOf(",")&&(a="rgb("+a+")");return a}if(c&&""!=c){c=c.split(";");for(z=0;z<c.length;z++){var e=c[z];"B"==e?a.style.fontWeight="bold":"I"==e?a.style.fontStyle="italic":"U"==e?a.style.textDecoration="underline":"S"==e?a.style.textDecoration="line-through":"AL"==e?a.style.textAlign="left":"AC"==e?a.style.textAlign="center":"AR"==
e?a.style.textAlign="right":"C("==e.substr(0,2).toUpperCase()?a.style.color=b(e):"BG("==e.substr(0,3).toUpperCase()&&(a.style.backgroundColor=b(e))}}}function I(a,c,b){a=document.createElement(a);c&&(a.id=c);b&&(a.name=b);a&&Na(a);return a}function Na(a){a.ac=function(a,c){if("undefined"!=typeof a)if(a.constructor===Array)for(var d in a)c?this.appendChild(I(c)).ac(a[d]):this.appendChild(a[d]);else{if("object"==typeof a)return this.appendChild(a),a;this.appendChild(document.createTextNode(a))}};a.at=
function(a){this.ac(a)};a.css=function(a,c){this.style[a]=c};a.cc=function(a,c,d){return this.ac(I(a,c,d))};try{a.clear=function(a){for(;this.firstChild;)this.removeChild(this.firstChild);"undefined"!=typeof a&&this.ac(a);return this}}catch(c){}a.at2=function(a,c){if("]"==a.substr(a.length-1)&&"[img:"==a.substr(0,5).toLowerCase()){var d=I("img"),g=a.substr(5,a.length-6).split("|");if(g[1])for(var m=g[1].split(";"),n=0;n<m.length;n++){var h=m[n].split(":");2<=h.length&&(d.style[h[0].trim()]=h[1].trim())}else d.style.maxHeight=
"14px";"http"==g[0].substr(0,4)?d.src=g[0]:0<=g[0].indexOf("flags/")?d.src=rrp_server+"/graphics/"+g[0]:d.src=rrp_server+"/RRPublish/picture.php?eventid="+w+"&name="+encodeURIComponent(g[0])}else if(g=a.split("\n"),1==g.length)d=document.createTextNode(g[0]);else{d=I("span");for(n=0;n<g.length;n++)d.ac(document.createTextNode(g[n])),n<a.length-1&&d.cc("br")}if(c)return n=I("b"),n.ac(d),this.ac(n),n;this.ac(d)}}function mb(a){a=a.split(" ");a[0]=a[0].split("-");a[1]=a[1].split(":");switch(rrp_lang){case "de":return a[0][2]+
"."+a[0][1]+"."+a[0][0]+" "+a[1][0]+":"+a[1][1];default:return a[0][0]+"-"+a[0][1]+"-"+a[0][2]+" "+a[1][0]+":"+a[1][1]}}function cb(a){if("facebook"==a){a=[];if(ra)for(var c=1;c<=u.Fields.length;c++)if(1==u.Fields[c-1].Line){var b=ra[c];""!=b&&a.push(A(u.Fields[c-1].Label)+": "+b)}a=a.join(" | ");a="http://www.facebook.com/dialog/feed?app_id=1420738338247728&link="+encodeURIComponent(window.location.href)+"&picture=&name="+encodeURIComponent(A(p.eventname))+"&caption="+encodeURIComponent("http://my.raceresult.com")+
"&description="+encodeURIComponent(a)+"&display=popup&redirect_uri="+encodeURIComponent("https://my.raceresult.com/popupClose.htm")}else if("twitter"==a)a="https://twitter.com/intent/tweet?text="+encodeURIComponent(A(p.eventname))+"&url="+encodeURIComponent(window.location.href);else return;window.open(a,"feedDialog","toolbar=0,status=0,width=626,height=436")}function kb(a){if(!a)return 0;a+="";if(""==a)return 0;for(a=a.replace(/,/gi,".");""!=a&&"0"==a.substr(0,1);)a=a.substr(1);f=parseFloat(a);"NaN"==
f.toString()&&(f=0);return f}function Xa(a){a||(a=window.event);try{a.cancel=!0}catch(c){}try{a.keyCode=0}catch(b){}try{a.cancelBubble=!0}catch(e){}try{a.returnValue=!1}catch(d){}try{a.preventDefault()}catch(g){}try{a.stopPropagation()}catch(m){}return!1}function Q(a,c){if("undefined"==typeof c){var b=0>a;b&&(a*=-1);var e=a+"",e=-1!=e.indexOf(".")?e.substr(e.indexOf(".")+1):"0",d=Math.floor(a/86400);a-=86400*d;var d=d+"",g=Math.floor(a/3600);a-=3600*g;g+="";1==g.length&&(g="0"+g);var m=Math.floor(a/
60);a-=60*m;m+="";1==m.length&&(m="0"+m);var n=Math.floor(a),n=n+"";1==n.length&&(n="0"+n);return(b?"-":"")+("0"!=d?d+":":"")+g+":"+m+":"+n+"."+e}e=b=!1;if(0>a){if("-"!=c.substr(0,1)&&"+"!=c.substr(0,1))return"";b=!0;a=-a}"-"==c.substr(0,1)?c=c.substr(1):"+"==c.substr(0,1)&&(c=c.substr(1),e=!0);m=a;d=c;g=d.indexOf("\\");if(0<=g)d=Q(Decitime,d.substr(0,g))+d.substr(g+1,1)+Q(Decitime,d.substr(g+2));else{var n=m,g=d,h=0;if(0<=g.indexOf("d")||0<=g.indexOf("D"))h=Math.floor(n/86400),n-=86400*h,g=g.replace(/dd/gi,
ta(h,2)),g=g.replace(/d/gi,h);if(0<=g.indexOf("h")||0<=g.indexOf("H"))h=Math.floor(n/3600),n-=3600*h,g=g.replace(/hh/gi,ta(h,2)),g=g.replace(/h/gi,h);if(0<=g.indexOf("m")||0<=g.indexOf("M"))h=Math.floor(n/60),n-=60*h,g=g.replace(/mm/gi,ta(h,2)),g=g.replace(/m/gi,h);if(0<=g.indexOf("s")||0<=g.indexOf("S"))h=Math.floor(n),g=g.replace(/ss/gi,ta(h,2)),g=g.replace(/s/gi,h);if(0<=g.indexOf("k")||0<=g.indexOf("K")){m=(m+"0000").split(".");m=ta(1==m.length?"0000":m[1],4);g=g.replace(/kkkk/gi,m.substr(0,4));
g=g.replace(/kkk/gi,m.substr(0,3));g=g.replace(/kk/gi,m.substr(0,2));g=g.replace(/k/gi,m.substr(0,1));for(n=d;"K"==n.substr(n.length-1)&&"0"==g.substr(g.length-1)||","==n.substr(n.length-1)||"."==n.substr(n.length-1);)n=n.substr(0,n.length-1),g=g.substr(0,g.length-1)}for(m=0;m<d.length;m++){n=d.substr(m,1);if(n=n==n.toUpperCase())if(!(n="0"==g.substr(0,1))){n=g.substr(0,1);if(""==n)n=!1;else{var h=!0,k=void 0;for(i=0;i<n.length&&!0==h;i++)k=n.charAt(i),-1=="0123456789.".indexOf(k)&&(h=!1);n=h}n=!n}if(n){if(g=
g.substr(1),""==g)break}else break}d=g}b?d="-"+d:e&&(d="+"+d);return d}function ta(a,c){for(var b=a+"";b.length<c;)b="0"+b;return b}var q;rrp_JQuery?q=rrp_JQuery:rrp_JQuery=q=jQuery.noConflict(!0);var J=this,F,X,P,O,ga,D,ea,K,x=[],Ia=!1,Ga=0,aa,xa,ya,M=0;Na(v);Na(document.body);this.ShowTimerLogo=this.ShowInfoText=!1;this.showLists=function(){p=L=C=null;ha()};this.showList=function(a,c,b){return(a=Qa(a))?Y(a.ID,c,b):!1};var p,C,Wa=0,L=null,T=0,Da=0,U=1,sa=null,ba=null,$=!1,u,ca={},fa=[],da="",na,
Z,Ha="",ra=null,G=[],S=!1;window.addEventListener?(window.addEventListener("load",Pa,!1),window.addEventListener("resize",Ca,!1)):window.attachEvent&&(window.attachEvent("onload",Pa),window.attachEvent("resize",Ca));window.onpopstate=function(){if(p){var a=0<=window.location.href.indexOf("#")?"#"+window.location.href.split("#")[1]:"#";a!=Ha&&((a=window.location.href.split("#")[1])?(a=a.split("_"),Y(a[1],a[0],a[2])):ha())}};J.DetailsWindow=new function(){var a=null,c=null,b=null,e,d,g=0;this.isVisible=
function(){return null!=c};this.hide=function(){this.isVisible()&&(600<=q(window).width()&&600<=q(window).height()?q(c).fadeOut(300,function(){document.body.style.overflow="";a&&a.parentNode.removeChild(a);a=null;c&&c.parentNode&&c.parentNode.removeChild(c);c=null}):(b.style.transition="left 0.5s",b.style.left=q(window).width()+"px",window.setTimeout(function(){document.body.style.overflow="";a&&a.parentNode.removeChild(a);a=null;c&&c.parentNode&&c.parentNode.removeChild(c);c=null},500)),O.style.display=
"",d=e=ra=null)};this.UpdateSplits=function(){q.getJSON(rrp_server+"/RRPublish/data/splits.php",{eventid:w,key:p.key,bib:g},function(a){function c(a,b){if(0==b||0==a)return"";if(1==b)return Q(1E3/a,"mm:ss")+" min/km";if(2==b)return Q(1609.34/a,"mm:ss")+" min/mile";if(3==b)return Q(100/a,"mm:ss")+" min/100m";if(4==b)return Math.round(36*a)/10+" km/h";if(5==b)return Math.round(10*2.23694*a)/10+" mph";if(6==b)return Math.round(10*a)/10+" m/s"}var b=!1,g=!1;if(e)for(;1<e.childNodes.length;)e.removeChild(e.lastChild);
if(d)for(;1<d.childNodes.length;)d.removeChild(d.lastChild);var u="1"==p.SplitConfig.substr(2,1);if(a&&a.Contest){if(e){var s=e.cc("div");s.className="LegsInner";var q=s.cc("div"),r=q.cc("div");r.cc("div");r.cc("div").at(langItems.SplitsHead1);"0"!=p.SplitConfig.substr(10,1)&&r.cc("div").at(langItems.SplitsHead2);"0"!=p.SplitConfig.substr(3,1)&&r.cc("div").at(langItems.SplitsHead3);"0"!=p.SplitConfig.substr(4,1)&&r.cc("div").at(langItems.SplitsHead4);"0"!=p.SplitConfig.substr(5,1)&&r.cc("div").at(langItems.SplitsHead5)}if(d){var v=
d.cc("div");v.className="SplitsInner";var w=v.cc("div"),r=w.cc("div");r.cc("div");"0"!=p.SplitConfig.substr(6,1)&&r.cc("div").at(langItems.SplitsHead6);"0"!=p.SplitConfig.substr(7,1)&&r.cc("div").at(langItems.SplitsHead7);"0"!=p.SplitConfig.substr(8,1)&&r.cc("div").at(langItems.SplitsHead8);"0"!=p.SplitConfig.substr(9,1)&&r.cc("div").at(langItems.SplitsHead9);"0"!=p.SplitConfig.substr(10,1)&&r.cc("div").at(langItems.SplitsHead2);"0"!=p.SplitConfig.substr(3,1)&&r.cc("div").at(langItems.SplitsHead3);
"0"!=p.SplitConfig.substr(4,1)&&r.cc("div").at(langItems.SplitsHead4);"0"!=p.SplitConfig.substr(5,1)&&r.cc("div").at(langItems.SplitsHead5)}for(var H=0;H<p.splits.length;H++){var y=p.splits[H];if(y.Contest==a.Contest&&2!=y.SplitType){if(9==y.SplitType){if(!e)continue;b=!0;r=q.cc("div");r.tdName=r.cc("div");r.tdTime=r.cc("div")}else{if(!d)continue;r=w.cc("div");g=!0;r.tdName=r.cc("div");"0"!=p.SplitConfig.substr(6,1)&&(r.tdTOD=r.cc("div"));"0"!=p.SplitConfig.substr(7,1)&&(r.tdGun=r.cc("div"));"0"!=
p.SplitConfig.substr(8,1)&&(r.tdChip=r.cc("div"));"0"!=p.SplitConfig.substr(9,1)&&(r.tdSector=r.cc("div"))}"0"!=p.SplitConfig.substr(10,1)&&(r.tdSpeed=r.cc("div"));"0"!=p.SplitConfig.substr(3,1)&&(r.tdRO=r.cc("div"));"0"!=p.SplitConfig.substr(4,1)&&(r.tdRG=r.cc("div"));"0"!=p.SplitConfig.substr(5,1)&&(r.tdRA=r.cc("div"));r.tdName.at(y.Label?A(y.Label):y.Name);for(var ma=0;ma<a.Splits.length;ma++){var E=a.Splits[ma];if(E.Split==y.ID){0==E.Exist&&(r.className="predicted",r.firstChild.at(" *"),r.parentNode.hasPrediction=
!0);9!=y.SplitType?(r.tdTOD&&r.tdTOD.at(Q(E.TOD%86400,a.TimeFormat)),r.tdGun&&r.tdGun.at(Q(E.Gun,a.TimeFormat)),r.tdChip&&255!=y.TypeOfSport&&r.tdChip.at(Q(E.Chip,a.TimeFormat)),r.tdSector&&255!=y.TypeOfSport&&r.tdSector.at(Q(E.Sector,a.TimeFormat))):r.tdTime.at(Q(E.Chip,a.TimeFormat));if((y=c(E.Speed,E.SpeedUnit))&&r.tdSpeed)r.tdSpeed.cc("span").at(langItems.SplitsHead2+": "),r.tdSpeed.lastChild.className="rrSplitsLabel",r.tdSpeed.at(y);E.RO&&"0"!=p.SplitConfig.substr(3,1)&&(r.tdRO.cc("span").at(langItems.SplitsHead3+
": "),r.tdRO.lastChild.className="rrSplitsLabel",r.tdRO.at(E.RO),u&&r.tdRO.cc("span").at("/"+E.ROM));E.RG&&"0"!=p.SplitConfig.substr(4,1)&&(r.tdRG.cc("span").at(langItems.SplitsHead4+": "),r.tdRG.lastChild.className="rrSplitsLabel",r.tdRG.at(E.RG),u&&r.tdRG.cc("span").at("/"+E.RGM));E.RA&&"0"!=p.SplitConfig.substr(5,1)&&(r.tdRA.cc("span").at(langItems.SplitsHead5+": "),r.tdRA.lastChild.className="rrSplitsLabel",r.tdRA.at(E.RA),u&&r.tdRA.cc("span").at("/"+E.RAM));break}}}}e&&q.hasPrediction&&(a=s.cc("div"),
a.className="Prediction",a.at("* "+langItems.SplitsLabel3));d&&w.hasPrediction&&(a=v.cc("div"),a.className="Prediction",a.at("* "+langItems.SplitsLabel3))}d&&(g?d.className="":d.parentNode.removeChild(d));e&&(b?e.className="":e.parentNode.removeChild(e))})};this.show=function(m){g=m;document.body.style.overflow="hidden";600<=q(window).width()&&600<=q(window).height()&&(a=document.body.cc("div"),a.className="divRRPublishDetailsFader");c=document.body.cc("table");c.onclick=function(){J.DetailsWindow.hide()};
c.className="divDetailsParent";c.cellPadding=0;b=c.cc("tbody").cc("tr").cc("td").cc("div");b.className="divDetailsOuter";var n=b.cc("img");n.className="imgDetailsClose";n.src=rrp_server+"/RRPublish/graphics/close_black.png";n.onclick=function(){J.DetailsWindow.hide()};var h=b.cc("div");h.className="divDetails Loading";h.onclick=function(a){a.stopPropagation()};600<=q(window).width()&&600<=q(window).height()&&(h.style.maxHeight=q(window).height()-50+"px");var k=h.cc("div");k.className="divCloseBar";
k.cc("div").innerHTML=langItems.detailsBack;h.onclick=function(){J.DetailsWindow.hide()};k=h.cc("div");k.className="divDetailsInner";k.onclick=function(a){a.stopPropagation()};k.ac(Ya(m,sa));if(p.SplitConfig&&("1"==p.SplitConfig.substr(0,1)||"1"==p.SplitConfig.substr(1,1)))C&&(C.Live&&!p.EventOver)&&(k.className+=" WithLiveUpdate",n=k.cc("div"),n.className="RRLiveUpdate",n.at(langItems.liveUpdateActive)),"1"==p.SplitConfig.substr(0,1)&&(e=k.cc("div"),e.className="Loading",e.cc("div").at(langItems.SplitsLabel1)),
"1"==p.SplitConfig.substr(1,1)&&(d=k.cc("div"),d.className="Loading",d.cc("div").at(langItems.SplitsLabel2)),this.UpdateSplits();if(C.Details){var u=k.cc("div");u.className="Loading";u.cc("div").at(langItems.detailsDetails);q.getJSON(rrp_server+"/RRPublish/data/list.php",{eventid:w,key:p.key,fav:V("favorites"+w),listname:C.Details,page:N,contest:L,r:"bib2",bib:m},function(a){if(a.data){u.className="divDetailsResults";for(var c=u.cc("div").cc("table"),b=a.list.Fields,d=1,g=1,e=[],h=a.list.LinkCount=
0;h<b.length;h++)b[h].Line>d&&(d=b[h].Line),e[b[h].Line]||(e[b[h].Line]=0),e[b[h].Line]+=1+b[h].ColOffset,e[b[h].Line]>g&&(g=e[b[h].Line]),a.list.Fields[h].Link&&a.list.LinkCount++;for(e=1;e<=d;e++){for(var k=!1,m=c.cc("thead"),n=I("tr"),p=1,h=0;h<b.length;h++)if(b[h].Line==e){var r=A(b[h].Label);""!=r&&(k=!0);for(var s=1;s<=b[h].ColOffset;s++)n.cc("th").innerHTML="&nbsp;",p++;var q=n.cc("th");q.at(r);b[h].Expression.toLowerCase();1==b[h].Alignment?q.style.textAlign="left":2==b[h].Alignment?q.style.textAlign=
"center":3==b[h].Alignment&&(q.style.textAlign="right");p++}for(s=1;s<=g-p;s++)q=n.cc("th"),q.innerHTML="&nbsp;";k&&m.ac(n)}c=c.cc("tbody");for(h=0;h<a.data.length;h++){k=a.data[h];for(e=1;e<=d;e++){n=c.cc("tr");n.className="Hover LastRecordLine";p=m=0;a.list.LineDynamicFormat&&(p++,ja(n,k[b.length+a.list.LinkCount+p]));r=0;for(q=1;q<=b.length;q++)if(b[q-1].DynamicFormat&&p++,b[q-1].Link&&m++,b[q-1].Line==e){for(s=1;s<=b[q-1].ColOffset;s++)n.cc("td").at("\u00a0"),r++;r++;s=n.cc("td");b[q-1].FontItalic&&
(s.style.fontStyle="italic");b[q-1].FontUnderlined&&(s.style.textDecoration="underline");b[q-1].FontBold&&(s.style.fontWeight="bold");1==b[q-1].Alignment?s.style.textAlign="left":2==b[q-1].Alignment?s.style.textAlign="center":3==b[q-1].Alignment&&(s.style.textAlign="right");b[q-1].Color&&(s.style.color=b[q-1].Color);""==k[q]&&(k[q]="\u00a0");if(b[q-1].Link){var v=s.ac(I("a"));v.at2(A(k[q]));"javascript:"!=k[b.length+m].substr(0,11)?(v.href=k[b.length+m],v.target="_blank",v.tr=n,v.onclick=function(a){a.stopPropagation()}):
(v.href="javascript:void(0)",v.sLink=k[b.length+m].substr(11),v.onclick=function(){eval(this.sLink)})}else s.at2(A(k[q]));b[q-1].DynamicFormat&&ja(s,k[b.length+a.list.LinkCount+p])}for(q=1;q<=g-r;q++)n.cc("td").at("\u00a0")}}}})}if(p.showCertificates){var s=k.cc("div");s.className="Loading";q.getJSON(rrp_server+"/RRPublish/data/certificates.php",{eventid:w,key:p.key,bib:m},function(a){s.className="divDetailsCertificates";if(0<a.length){s.cc("div").at(langItems.detailsCertificates);for(var b=s.cc("div"),
c=0;c<a.length;c++){var d=b.cc("div");d.cname=a[c].cs;d.bib=m;d.onclick=function(){var a=encodeURIComponent(this.cname),a=a.replace("%2F","%252F"),a=a.replace("%5C","%255C");window.open(rrp_server+"/"+w+"/"+this.bib+"/"+a)};d.cc("img").src=rrp_server+"/RRPublish/popup/thumbnail.php?eventid="+w+"&name="+encodeURIComponent(a[c].name);d.cc("br");d.at(A(a[c].label))}}h.className="divDetails"})}var v=k.cc("div");q.getJSON(rrp_server+"/RRPublish/data/links.php",{eventid:w,key:p.key,bib:m},function(a){if(0<
a.length){v.cc("div").at(langItems.detailsLinks);v.className="divDetailsLinks";for(var b=v.cc("div"),c=0;c<a.length;c++){var d=b.cc("div");d.url=a[c].url;d.onclick=function(){"http"!=this.url.substr(0,4)&&(this.url="http://"+this.url);window.open(this.url)};d.cc("img").src=rrp_server+"/RRPublish/picture.php?eventid="+w+"&name="+encodeURIComponent(a[c].pic);d.cc("br");d.at(A(a[c].label))}}});if(p.PhotographerEventID){var r=k.cc("div");r.className="divDetailsPhotos";q.getJSON(rrp_server+"/RRPublish/data/photos.php",
{eventid:w,bib:m,lang:rrp_lang},function(a){if(0<a.length){r.cc("div").at(langItems.detailsPhotos);for(var b=r.cc("div"),c=0;c<a.length;c++){var d=b.cc("a");d.target="_blank";d.href=a[c][1];d.cc("img").src=a[c][0]}}})}n=k.cc("div");n.className="divDetailsSocial";n.cc("div").at("Social");var B=n.cc("div");B.at(langItems.social2);B.cc("br");n=B.cc("img");n.style.cursor="pointer";n.src=rrp_server+"/RRPublish/graphics/facebook.png";n.onclick=function(){cb("facebook")};n=B.cc("img");n.style.cursor="pointer";
n.src=rrp_server+"/RRPublish/graphics/twitter.png";n.onclick=function(){cb("twitter")};if("1"!=p.DisableiComments){var x=k.cc("div");x.cc("div").at(langItems.detailsComments);x.className="divDetailsComments";x.divInner=x.cc("div");x.load=function(){x.divInner.clear();q.getJSON(rrp_server+"/RRPublish/data/comments.php",{eventid:w,key:p.key,bib:m},function(a){if(0<a.length)for(var b=0;b<a.length;b++){var c=x.divInner.cc("div");c.cc("b").at(a[b].UserName+": ");c.cc("span").at(" ["+mb(a[b].Submitted)+
"]");c.at(a[b].Comment)}})};x.ac(lb(m,sa.firstChild,sa.CommentInfo,function(){x.load()}));x.cc("div").style.clear="both";x.load()}h.className="divDetails";600<=q(window).width()&&600<=q(window).height()?q(c).fadeIn(300):(b.style.left=q(window).width()+"px",c.style.display="",window.setTimeout(function(){b.style.transition="left 0.5s";b.style.left=0},10))}};J.LiveUpdate=new function(){function a(){var a=da?"search":$?"favorites":C.Leader?"leaders":"all";M++;var b=M;q.getJSON(rrp_server+"/RRPublish/data/list.php",
{eventid:w,key:p.key,listname:C.Name,page:N,contest:L,r:a,l:C.Leader,fav:V("favorites"+w),openedGroups:JSON.stringify(ca),selectorResult:aa,f:x.join("\f"),term:da,mid:Wa},function(a,e,n){M==b&&(0==c&&200==n.status)&&(a.status||(a.status=0),304!=a.status&&a.list&&(q(v).find(".RRLiveUpdate").addClass("RRLiveUpdateLoading"),window.setTimeout(function(){q(v).find(".RRLiveUpdate").removeClass("RRLiveUpdateLoading")},1E3),ba=a,u=a.list,na=oa(a.data,0),Z=pa(a.data,0),ua(u),ka(),la(a)))}).always(function(){c=
1024<=window.innerWidth?4:10}).fail(function(a,b){400<=a.status&&Ba()})}var c=-1;this.SecondsToNext=function(a){c=a};window.setInterval(function(){C&&(C.Live&&!p.EventOver)&&(!b.check()&&!(0>=c))&&(c--,0==c&&(J.DetailsWindow.isVisible()?(J.DetailsWindow.UpdateSplits(),c=1024<=window.innerWidth?4:10):a()))},1E3);var b=new function(){function a(){if(c){var b=c;c=null;q(b).fadeOut(300,function(){document.body.style.overflow="";m&&m.parentNode.removeChild(m);m=null;b.parentNode&&b.parentNode.removeChild(b)});
J.LiveUpdate.SecondsToNext(1)}}function b(){a();n=new Date}var c,m,n=new Date;this.check=function(){return 12E5<new Date-n?(this.show(),!0):!1};this.show=function(){c||(document.body.style.overflow="hidden",m=document.body.cc("div"),m.className="divRRPublishDetailsFader",m.style.zIndex=10900,c=document.body.cc("div"),c.onclick=b,c.className="LiveUpdateContinue",c.cc("div").at(langItems.LiveUpdateContinue1),600<=q(window).width()&&600<=q(window).height()?c.cc("div").at(langItems.LiveUpdateContinue2):
c.cc("div").at(langItems.LiveUpdateContinue3))};window.addEventListener?(window.addEventListener("scroll",b,!1),document.addEventListener("mousemove",b,!1),document.addEventListener("mousedown",b,!1),document.addEventListener("keydown",b,!1),document.addEventListener("touchstart",b,!1)):window.attachEvent&&(window.attachEvent("scroll",b),document.attachEvent("mousemove",b),document.attachEvent("mousedown",b),document.attachEvent("keydown",b))}};var za=null};
